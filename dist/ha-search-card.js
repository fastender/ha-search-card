class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.searchTerm="",this.entities=[]}set hass(t){this.hassObj=t,this.initialized||this.init()}init(){this.initialized=!0;const t=document.createElement("ha-card");t.header="Entit채ten Suche";const e=document.createElement("div");e.className="card-content";const s=document.createElement("style");s.textContent="\n      .search-container {\n        position: relative;\n        margin-bottom: 16px;\n      }\n      .search-input {\n        width: 100%;\n        padding: 8px 32px 8px 8px;\n        border: 1px solid var(--divider-color, #e0e0e0);\n        border-radius: 4px;\n        background: var(--card-background-color, #fff);\n        color: var(--primary-text-color, #000);\n      }\n      .results-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n        gap: 16px;\n      }\n      .entity-card {\n        background: var(--card-background-color, #fff);\n        border-radius: 4px;\n        border: 1px solid var(--divider-color, #e0e0e0);\n        padding: 16px;\n        cursor: pointer;\n        transition: box-shadow 0.3s ease;\n      }\n      .entity-card:hover {\n        box-shadow: var(--shadow-elevation-4dp, 0 2px 4px rgba(0,0,0,0.1));\n      }\n      .entity-header {\n        display: flex;\n        align-items: center;\n        margin-bottom: 8px;\n      }\n      .entity-name {\n        margin-left: 8px;\n        font-weight: 500;\n      }\n      .entity-state {\n        color: var(--secondary-text-color, #757575);\n      }\n      .tags {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 4px;\n        margin-top: 8px;\n      }\n      .tag {\n        background: var(--primary-color, #03a9f4);\n        color: var(--text-primary-color, #fff);\n        padding: 2px 8px;\n        border-radius: 12px;\n        font-size: 0.8em;\n      }\n      .no-results {\n        text-align: center;\n        padding: 32px;\n        color: var(--secondary-text-color, #757575);\n      }\n    ",this.shadowRoot.appendChild(s);const n=document.createElement("div");n.className="search-container";const a=document.createElement("input");a.type="text",a.className="search-input",a.placeholder="Suchen Sie nach R채umen, Ger채ten oder Funktionen...",a.addEventListener("input",t=>{this.searchTerm=t.target.value,this.updateResults()}),n.appendChild(a),this.resultsContainer=document.createElement("div"),this.resultsContainer.className="results-grid",e.appendChild(n),e.appendChild(this.resultsContainer),t.appendChild(e),this.shadowRoot.appendChild(t),this.updateEntities()}updateEntities(){this.entities=Object.entries(this.hassObj.states).map(([t,e])=>({id:t,name:e.attributes.friendly_name||t,state:e.state,type:t.split(".")[0],room:e.attributes.room||"Nicht zugeordnet"})),this.updateResults()}updateResults(){const t=this.entities.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())||t.room.toLowerCase().includes(this.searchTerm.toLowerCase())||t.type.toLowerCase().includes(this.searchTerm.toLowerCase())||t.id.toLowerCase().includes(this.searchTerm.toLowerCase()));this.resultsContainer.innerHTML="",t.length?t.forEach(t=>{const e=document.createElement("div");e.className="entity-card",e.innerHTML=`\n        <div class="entity-header">\n          <ha-icon icon="${this.getEntityIcon(t.type,t.state)}"></ha-icon>\n          <span class="entity-name">${t.name}</span>\n        </div>\n        <div class="entity-state">${t.state}</div>\n        <div class="tags">\n          <span class="tag">${t.room}</span>\n          <span class="tag">${t.type}</span>\n        </div>\n      `,e.addEventListener("click",()=>{this.fireEvent(t.id)}),this.resultsContainer.appendChild(e)}):this.resultsContainer.innerHTML=`\n        <div class="no-results">\n          Keine Ergebnisse gefunden f체r "${this.searchTerm}"\n        </div>\n      `}getEntityIcon(t,e){const s={light:"on"===e?"mdi:lightbulb":"mdi:lightbulb-outline",switch:"on"===e?"mdi:toggle-switch":"mdi:toggle-switch-off",sensor:"mdi:thermometer",binary_sensor:"mdi:eye",climate:"mdi:thermostat",media_player:"mdi:cast",camera:"mdi:video",cover:"mdi:window-shutter"};return s[t]||"mdi:help-circle"}fireEvent(t){const e=new CustomEvent("hass-more-info",{detail:{entityId:t}});this.dispatchEvent(e)}setConfig(t){}getCardSize(){return 3}}customElements.define("ha-search-card",t);
